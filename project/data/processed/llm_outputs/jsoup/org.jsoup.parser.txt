{
  "smell": "Insufficient Modularization",
  "package": "org.jsoup.parser",
  "detections": [
    {
      "class": "HtmlTreeBuilderState",
      "detection": true,
      "justification": "Very large class (loc 1735) with extremely high complexity (WMC 473) and many methods (nom 45); contains vast state/behavior surface for HTML parsing. Size and complexity indicate multiple responsibilities and state-handling logic concentrated in one place that would be easier to maintain if decomposed into smaller, focused abstractions (per-state handlers or strategies)."
    },
    {
      "class": "TokeniserState",
      "detection": true,
      "justification": "Very large state machine implementation (loc 1386) with very high complexity (WMC 409) and many methods (nom 75). The class likely encodes many parsing states and branching logic, concentrating diverse responsibilities; this suggests insufficient modularization (should be split into smaller state classes or strategy objects)."
    },
    {
      "class": "HtmlTreeBuilder",
      "detection": true,
      "justification": "Large implementation (loc 765) with many methods (nom 95) and high complexity (WMC 227). It coordinates tree construction, node handling, normalization and many parsing concerns. The breadth of functionality and method count point to a bloated abstraction that would benefit from decomposition (separate concerns such as node insertion, sanitization, and specific tag handling)."
    },
    {
      "class": "CharacterReader",
      "detection": false,
      "justification": "Although sizable (loc 533, nom 57, WMC 130), the low LCOM (0.05) indicates cohesive behavior focused on character-stream reading and predicates. Its responsibilities center on input buffering and character consumption; this single, well-defined role suggests acceptable modularization for its purpose."
    },
    {
      "class": "TokenQueue",
      "detection": false,
      "justification": "Moderate size (loc 396) with a focused API for token/queue operations (nom 34, WMC 86) and low LCOM (0.059), indicating cohesion. The class appears to encapsulate a single responsibility (managing a token/character queue) rather than multiple disparate concerns, so it does not exhibit clear insufficient modularization."
    },
    {
      "class": "Parser",
      "detection": false,
      "justification": "Medium-sized coordinator (loc 298, nom 30, WMC 33) that orchestrates parsing components. Its role is naturally integrative; metrics show moderate complexity and method count but not excessive concentration of unrelated responsibilities. Given its coordinating purpose and moderate cohesion, it does not clearly suffer from insufficient modularization."
    }
  ]
}